2026-01-12 15:13:55.593 | WARNING  | stockbench.adapters.finnhub_client:__init__:31 - Finnhub API key not set
<frozen runpy>:128: RuntimeWarning: 'stockbench.apps.run_backtest' found in sys.modules after import of package 'stockbench.apps', but prior to execution of 'stockbench.apps.run_backtest'; this may result in unpredictable behaviour
2026-01-12 15:13:49 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 GS: got open 622.4, close 605.26
2026-01-12 15:13:49 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 GS: using open as mark price 622.4
2026-01-12 15:13:49 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 MSFT: got open 398.82, close 388.49
2026-01-12 15:13:49 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 MSFT: using open as mark price 398.82
2026-01-12 15:13:49 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 HD: got open 396.95, close 389.69
2026-01-12 15:13:49 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 HD: using open as mark price 396.95
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 V: got open 363.0, close 361.82
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 V: using open as mark price 363.0
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 SHW: got open 364.27, close 356.73
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 SHW: using open as mark price 364.27
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 CAT: got open 347.63, close 332.04
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 CAT: using open as mark price 347.63
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 MCD: got open 308.11, close 304.29
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 MCD: using open as mark price 308.11
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 UNH: got open 474.37, close 467.05
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 UNH: using open as mark price 474.37
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 AXP: got open 301.43, close 295.49
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 AXP: using open as mark price 301.43
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 AMGN: got open 307.34, close 310.78
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 AMGN: using open as mark price 307.34
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 TRV: got open 258.75, close 260.84
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 TRV: using open as mark price 258.75
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 CRM: got open 301.0, close 293.06
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 CRM: using open as mark price 301.0
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 JPM: got open 264.0, close 260.62
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 JPM: using open as mark price 264.0
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 IBM: got open 254.735, close 250.19
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 IBM: using open as mark price 254.735
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 HON: got open 213.72, close 212.02
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 HON: using open as mark price 213.72
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 BA: got open 177.02, close 170.06
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 BA: using open as mark price 177.02
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 AMZN: got open 213.352, close 205.02
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 AMZN: using open as mark price 213.352
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 AAPL: got open 241.79, close 238.03
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 AAPL: using open as mark price 241.79
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 PG: got open 173.58, close 175.59
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 PG: using open as mark price 173.58
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-03 JNJ: got open 164.96, close 167.28
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-03 JNJ: using open as mark price 164.96
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1070 - [DEBUG] 2025-03-03 open_map built: 20 symbols
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[GS] = 622.4
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[MSFT] = 398.82
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[HD] = 396.95
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[V] = 363.0
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[SHW] = 364.27
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[CAT] = 347.63
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[MCD] = 308.11
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[UNH] = 474.37
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[AXP] = 301.43
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[AMGN] = 307.34
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[TRV] = 258.75
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[CRM] = 301.0
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[JPM] = 264.0
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[IBM] = 254.735
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[HON] = 213.72
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[BA] = 177.02
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[AMZN] = 213.352
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[AAPL] = 241.79
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[PG] = 173.58
2026-01-12 15:13:50 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-03 open_map[JNJ] = 164.96
2026-01-12 15:13:50 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: GS, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:_show_news_cache_stats:100 - [CACHE_STATS] Found 1797 news cache files, total cached 5606 news items
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: GS, 5/5
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MSFT, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: MSFT, 5/5
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HD, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: HD, 5/5
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: V, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: V, 1/5, will try API
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:56 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: V, 1 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: SHW, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: SHW, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: SHW, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: SHW, 2/5, will try API
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: SHW, 2 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: CAT, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: CAT, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CAT, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: CAT, 2/5, will try API
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: CAT, 2 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: MCD, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: MCD, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MCD, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: MCD, 1/5, will try API
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: MCD, 1 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: UNH, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: UNH, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: UNH, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: UNH, 2/5, will try API
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: UNH, 2 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AXP, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AXP, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AXP, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AXP, 3/5, will try API
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AXP, 3 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AMGN, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AMGN, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMGN, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AMGN, 3/5, will try API
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AMGN, 3 items (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: TRV, current 8 records
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: TRV, 8 records (API unavailable)
2026-01-12 15:13:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: TRV, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: TRV, 2/5, will try API
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: TRV, 2 items (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: CRM, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: CRM, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CRM, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: CRM, 1/5, will try API
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: CRM, 1 items (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: JPM, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: JPM, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JPM, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: JPM, 4/5, will try API
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: JPM, 4 items (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: IBM, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: IBM, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: IBM, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: IBM, 1/5, will try API
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: IBM, 1 items (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: HON, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: HON, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HON, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HON, 1/5, will try API
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HON, 1 items (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: BA, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: BA, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: BA, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: BA, 5/5
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AMZN, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AMZN, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMZN, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AMZN, 5/5
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AAPL, current 8 records
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AAPL, 8 records (API unavailable)
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AAPL, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:58 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AAPL, 5/5
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: PG, current 8 records
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: PG, 8 records (API unavailable)
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: PG, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: PG, 1/5, will try API
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:13:59 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: PG, 1 items (API unavailable)
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: JNJ, current 8 records
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: JNJ, 8 records (API unavailable)
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JNJ, GTE: 2025-03-01, LTE: 2025-03-03, limit: 100, page_token: None
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: JNJ, 5/5
2026-01-12 15:14:05 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:413 - 
=== Unified Executor Decision Call Started ===
2026-01-12 15:14:05 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:414 - [AGENT_EXECUTOR] Using unified executor for decision-making, Agent mode: dual
2026-01-12 15:14:05 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:415 - [AGENT_EXECUTOR] Agent mode in configuration: dual
2026-01-12 15:14:05 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:416 - [AGENT_EXECUTOR] Memory system: Agents will use ctx.memory.episodes for history
2026-01-12 15:14:01 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:562 - [AGENT_EXECUTOR] Calling unified executor
2026-01-12 15:14:01 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] decision_agent started
2026-01-12 15:14:01 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] decision_agent executing
2026-01-12 15:14:01 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:268 - [AGENT_DECISION] Starting dual-agent decision process
2026-01-12 15:14:01 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:275 - [AGENT_FILTER] Step 1: Calling fundamental filter agent
2026-01-12 15:14:01 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] fundamental_filter started
2026-01-12 15:14:01 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] fundamental_filter executing
2026-01-12 15:14:01 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:176 - [FUNDAMENTAL_FILTER] Using historical records, containing history of 20 symbols
2026-01-12 15:14:01 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ fundamental_filter - Model: gpt-4o-mini
2026-01-12 15:14:04 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ fundamental_filter success - Latency: 3862ms, Token usage: {'prompt_tokens': 7081, 'completion_tokens': 213, 'total_tokens': 7294}
2026-01-12 15:14:04 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:225 - [FUNDAMENTAL_FILTER] LLM call completed: cached=False, latency=3862ms
2026-01-12 15:14:04 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:273 - [FUNDAMENTAL_FILTER] Filter completed: 5/20 stocks need fundamental analysis: ['GS', 'MSFT', 'HD', 'UNH', 'AMGN']
2026-01-12 15:14:04 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:275 - [FUNDAMENTAL_FILTER] Used historical records for 20 symbols in filtering decision
2026-01-12 15:14:04 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] fundamental_filter completed
2026-01-12 15:14:04 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:287 - [AGENT_FILTER] Filter completed
2026-01-12 15:14:04 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:295 - [FEATURE_BUILD] Step 2: Building enhanced features based on filtering results
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for GS, target: 5
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for GS (target: 5)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for GS
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'GS' (valid: True)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-03' (valid: True)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 622.4 (valid: True)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(GS, 2025-03-03, 622.4)
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: GS
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-03
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for GS: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for MSFT, target: 5
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for MSFT (target: 5)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for MSFT
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'MSFT' (valid: True)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-03' (valid: True)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 398.82 (valid: True)
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(MSFT, 2025-03-03, 398.82)
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: MSFT
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-03
2026-01-12 15:14:04 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:04 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for MSFT: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for HD, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for HD (target: 5)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for HD
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'HD' (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-03' (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 396.95 (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(HD, 2025-03-03, 396.95)
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: HD
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for HD: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for V, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for V (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for V, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for V (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for SHW, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for SHW (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for SHW, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for SHW (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for CAT, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for CAT (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for CAT, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CAT (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for MCD, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for MCD (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for MCD, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for MCD (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for UNH, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for UNH (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for UNH, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for UNH
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'UNH' (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-03' (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 474.37 (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(UNH, 2025-03-03, 474.37)
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: UNH
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 318625047291.68195, 'pe_ratio': 14.9224, 'dividend_yield': 254.24948, 'week_52_high': 630.73, 'week_52_low': 234.6, 'quarterly_dividend': 2.21}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 318625047291.68195, 'pe_ratio': 14.9224, 'dividend_yield': 254.24948, 'week_52_high': 630.73, 'week_52_low': 234.6, 'quarterly_dividend': 2.21}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for UNH: {'market_cap': 318625047291.68195, 'pe_ratio': 14.9224, 'dividend_yield': 254.24948, 'week_52_high': 630.73, 'week_52_low': 234.6, 'quarterly_dividend': 2.21}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for AXP, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for AXP (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for AXP, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AXP (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for AMGN, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for AMGN (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for AMGN, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for AMGN
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'AMGN' (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-03' (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 307.34 (valid: True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(AMGN, 2025-03-03, 307.34)
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: AMGN
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 150321402139.99197, 'pe_ratio': 23.3279, 'dividend_yield': 331.92708, 'week_52_high': 339.17, 'week_52_low': 253.3, 'quarterly_dividend': 2.38}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 150321402139.99197, 'pe_ratio': 23.3279, 'dividend_yield': 331.92708, 'week_52_high': 339.17, 'week_52_low': 253.3, 'quarterly_dividend': 2.38}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for AMGN: {'market_cap': 150321402139.99197, 'pe_ratio': 23.3279, 'dividend_yield': 331.92708, 'week_52_high': 339.17, 'week_52_low': 253.3, 'quarterly_dividend': 2.38}
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for TRV, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for TRV (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for TRV, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for TRV (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for CRM, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for CRM (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for CRM, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CRM (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for JPM, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for JPM (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for JPM, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JPM (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for IBM, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for IBM (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for IBM, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for IBM (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for HON, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for HON (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for HON, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HON (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for BA, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for BA (target: 5)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for BA (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AMZN, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AMZN (target: 5)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMZN (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AAPL, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AAPL (target: 5)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AAPL (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for PG, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for PG (target: 5)
2026-01-12 15:14:05 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for PG, expected 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for PG (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for JNJ, target: 5
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for JNJ (target: 5)
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-03T00:00:00Z
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-03
2026-01-12 15:14:05 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JNJ (exclude_fundamental=True)
2026-01-12 15:14:05 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:408 - [FEATURE_BUILD] Enhanced features built
2026-01-12 15:14:05 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:417 - [AGENT_DECISION] Step 3: Calling decision agent with enhanced features
2026-01-12 15:14:05 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:583 - [DEBUG] Dual agent decision: Using historical records, containing history of 20 symbols
2026-01-12 15:14:05 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:723 - [DUAL_AGENT_UNIFIED_RETRY] Starting unified retry loop: current_retry=0, max_total_retries=3
2026-01-12 15:14:05 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:14:34 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 29159ms, Token usage: {'prompt_tokens': 9087, 'completion_tokens': 2244, 'total_tokens': 11331}
2026-01-12 15:14:34 | WARNING  | stockbench.agents.dual_agent_llm:_filter_hallucination_decisions:66 - [AGENT_DECISION] Filtered hallucinated symbols
2026-01-12 15:14:34 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:944 - ‚úÖ [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: All validations passed, processing results
2026-01-12 15:14:34 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] decision_agent completed
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:582 - [AGENT_EXECUTOR] Unified executor completed
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:590 - [AGENT_EXEC] Execution summary
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:609 - === Unified Executor Decision Call Ended ===

2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:690 - 
=== Store Pending Decisions Started ===
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:691 - [PENDING_SAVE] Preparing to store pending decisions
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:722 - [PENDING_SAVE] Pending decisions stored, waiting for recording after trade execution
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:723 - === Store Pending Decisions Completed ===

2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1158 - [PRECALC] Total cash required for all orders: 0.00, available: 100000.00
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1224 - [RETRY_MECHANISM] No rejected orders; proceeding with execution
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1340 - 
=== Daily NAV Calculation [2025-03-03] ===
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1341 - [DAILY_NAV] Current cash: 100000.00
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1342 - [DAILY_NAV] Position details:
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1362 - [DAILY_NAV] Total position market value: 0.00
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1363 - [DAILY_NAV] Total equity: 100000.00 + 0.00 = 100000.00
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1364 - [DAILY_NAV] Initial capital: 100000.00
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1365 - [DAILY_NAV] Daily NAV: 100000.00 / 100000.00 = 1.000000
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1366 - [DAILY_NAV] Current cash ratio: 1.0000
2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1367 - === Daily NAV Calculation Completed ===

2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1376 - [DELAYED_RECORD] No successful trades today, but still need to record hold decisions
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:741 - 
=== Decision Recording (New Memory System) ===
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:742 - [RECORD] Decisions have been saved to ctx.memory.episodes by Agents automatically
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:743 - [RECORD] Clearing pending decisions state
2026-01-12 15:14:34 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:752 - === Decision Recording Completed ===

2026-01-12 15:14:34 | INFO     | stockbench.backtest.engine:run:1389 - [NEXT_TRADING_DAY] Next trading day after 2025-03-03: 2025-03-04
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:_get_next_day_open_prices:638 - [NEXT_DAY_PRICE] Final result: successfully fetched opening prices for 20/20 symbols
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1000 - [DEBUG] 2025-03-04 build previous_open_map: 0 symbols
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 GS: got open 595.98, close 581.14
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 GS: using open as mark price 595.98
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 MSFT: got open 383.4, close 388.61
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 MSFT: using open as mark price 383.4
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 HD: got open 386.15, close 381.68
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 HD: using open as mark price 386.15
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 V: got open 360.11, close 352.23
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 V: using open as mark price 360.11
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 SHW: got open 355.56, close 355.28
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 SHW: using open as mark price 355.56
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 CAT: got open 327.39, close 326.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 CAT: using open as mark price 327.39
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 MCD: got open 304.59, close 305.77
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 MCD: using open as mark price 304.59
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 UNH: got open 469.75, close 474.61
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 UNH: using open as mark price 469.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 AXP: got open 291.57, close 283.47
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 AXP: using open as mark price 291.57
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 AMGN: got open 316.53, close 312.19
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 AMGN: using open as mark price 316.53
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 TRV: got open 261.91, close 255.7
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 TRV: using open as mark price 261.91
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 CRM: got open 290.0, close 287.34
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 CRM: using open as mark price 290.0
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 JPM: got open 255.28, close 250.25
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 JPM: using open as mark price 255.28
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 IBM: got open 248.75, close 253.21
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 IBM: using open as mark price 248.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 HON: got open 211.7, close 208.0
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 HON: using open as mark price 211.7
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 BA: got open 167.37, close 158.9
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 BA: using open as mark price 167.37
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 AMZN: got open 200.11, close 203.8
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 AMZN: using open as mark price 200.11
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 AAPL: got open 237.705, close 235.93
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 AAPL: using open as mark price 237.705
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 PG: got open 176.75, close 173.18
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 PG: using open as mark price 176.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-04 JNJ: got open 168.08, close 165.42
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-04 JNJ: using open as mark price 168.08
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1070 - [DEBUG] 2025-03-04 open_map built: 20 symbols
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[GS] = 595.98
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[MSFT] = 383.4
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[HD] = 386.15
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[V] = 360.11
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[SHW] = 355.56
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[CAT] = 327.39
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[MCD] = 304.59
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[UNH] = 469.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[AXP] = 291.57
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[AMGN] = 316.53
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[TRV] = 261.91
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[CRM] = 290.0
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[JPM] = 255.28
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[IBM] = 248.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[HON] = 211.7
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[BA] = 167.37
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[AMZN] = 200.11
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[AAPL] = 237.705
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[PG] = 176.75
2026-01-12 15:14:35 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-04 open_map[JNJ] = 168.08
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: GS, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: GS, 5/5
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MSFT, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: MSFT, 5/5
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HD, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HD, 2/5, will try API
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HD, 2 items (API unavailable)
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: V, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: V, 1/5, will try API
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: V, 1 items (API unavailable)
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: SHW, current 9 records
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: SHW, 9 records (API unavailable)
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: SHW, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: SHW, 2/5, will try API
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:36 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: SHW, 2 items (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: CAT, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: CAT, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CAT, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CAT, 5/5
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: MCD, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: MCD, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MCD, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: MCD, 2/5, will try API
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: MCD, 2 items (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: UNH, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: UNH, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: UNH, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: UNH, 4/5, will try API
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: UNH, 4 items (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AXP, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AXP, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AXP, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AXP, 1/5, will try API
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AXP, 1 items (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AMGN, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AMGN, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMGN, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AMGN, 2/5, will try API
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AMGN, 2 items (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: TRV, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: TRV, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: TRV, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: TRV, 2/5, will try API
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: TRV, 2 items (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: CRM, current 9 records
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: CRM, 9 records (API unavailable)
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CRM, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: CRM, 2/5, will try API
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:37 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: CRM, 2 items (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: JPM, current 9 records
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: JPM, 9 records (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JPM, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: JPM, 5/5
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: IBM, current 9 records
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: IBM, 9 records (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: IBM, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:888 - ‚úÖ Get news from hash cache with sufficient data: IBM, key: news_514ae375e05..., count: 5
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: HON, current 9 records
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: HON, 9 records (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HON, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HON, 4/5, will try API
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HON, 4 items (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: BA, current 9 records
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: BA, 9 records (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: BA, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: BA, 4/5, will try API
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: BA, 4 items (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AMZN, current 9 records
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AMZN, 9 records (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMZN, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AMZN, 5/5
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AAPL, current 9 records
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AAPL, 9 records (API unavailable)
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AAPL, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:38 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AAPL, 5/5
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: PG, current 9 records
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: PG, 9 records (API unavailable)
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: PG, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: PG, 4/5, will try API
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: PG, 4 items (API unavailable)
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: JNJ, current 9 records
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: JNJ, 9 records (API unavailable)
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JNJ, GTE: 2025-03-02, LTE: 2025-03-04, limit: 100, page_token: None
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: JNJ, 2/5, will try API
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:14:39 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: JNJ, 2 items (API unavailable)
2026-01-12 15:14:45 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:413 - 
=== Unified Executor Decision Call Started ===
2026-01-12 15:14:45 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:414 - [AGENT_EXECUTOR] Using unified executor for decision-making, Agent mode: dual
2026-01-12 15:14:45 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:415 - [AGENT_EXECUTOR] Agent mode in configuration: dual
2026-01-12 15:14:45 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:416 - [AGENT_EXECUTOR] Memory system: Agents will use ctx.memory.episodes for history
2026-01-12 15:14:40 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:562 - [AGENT_EXECUTOR] Calling unified executor
2026-01-12 15:14:40 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] decision_agent started
2026-01-12 15:14:40 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] decision_agent executing
2026-01-12 15:14:40 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:268 - [AGENT_DECISION] Starting dual-agent decision process
2026-01-12 15:14:40 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:275 - [AGENT_FILTER] Step 1: Calling fundamental filter agent
2026-01-12 15:14:40 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] fundamental_filter started
2026-01-12 15:14:40 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] fundamental_filter executing
2026-01-12 15:14:40 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:176 - [FUNDAMENTAL_FILTER] Using historical records, containing history of 20 symbols
2026-01-12 15:14:40 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ fundamental_filter - Model: gpt-4o-mini
2026-01-12 15:14:44 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ fundamental_filter success - Latency: 3817ms, Token usage: {'prompt_tokens': 7018, 'completion_tokens': 214, 'total_tokens': 7232}
2026-01-12 15:14:44 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:225 - [FUNDAMENTAL_FILTER] LLM call completed: cached=False, latency=3817ms
2026-01-12 15:14:44 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:273 - [FUNDAMENTAL_FILTER] Filter completed: 5/20 stocks need fundamental analysis: ['GS', 'MSFT', 'HD', 'CAT', 'AMGN']
2026-01-12 15:14:44 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:275 - [FUNDAMENTAL_FILTER] Used historical records for 20 symbols in filtering decision
2026-01-12 15:14:44 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] fundamental_filter completed
2026-01-12 15:14:44 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:287 - [AGENT_FILTER] Filter completed
2026-01-12 15:14:44 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:295 - [FEATURE_BUILD] Step 2: Building enhanced features based on filtering results
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for GS, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for GS (target: 5)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for GS
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'GS' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-04' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 595.98 (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(GS, 2025-03-04, 595.98)
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: GS
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for GS: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for MSFT, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for MSFT (target: 5)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for MSFT
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'MSFT' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-04' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 383.4 (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(MSFT, 2025-03-04, 383.4)
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: MSFT
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for MSFT: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for HD, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for HD (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for HD, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for HD
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'HD' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-04' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 386.15 (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(HD, 2025-03-04, 386.15)
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: HD
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for HD: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for V, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for V (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for V, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for V (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for SHW, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for SHW (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for SHW, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for SHW (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for CAT, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for CAT (target: 5)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for CAT
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'CAT' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-04' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 327.39 (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(CAT, 2025-03-04, 327.39)
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: CAT
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 220086727131.71008, 'pe_ratio': 23.4334, 'dividend_yield': 128.16703, 'week_52_high': 485.3375, 'week_52_low': 267.3, 'quarterly_dividend': 1.51}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 220086727131.71008, 'pe_ratio': 23.4334, 'dividend_yield': 128.16703, 'week_52_high': 485.3375, 'week_52_low': 267.3, 'quarterly_dividend': 1.51}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for CAT: {'market_cap': 220086727131.71008, 'pe_ratio': 23.4334, 'dividend_yield': 128.16703, 'week_52_high': 485.3375, 'week_52_low': 267.3, 'quarterly_dividend': 1.51}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for MCD, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for MCD (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for MCD, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for MCD (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for UNH, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for UNH (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for UNH, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for UNH (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for AXP, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for AXP (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for AXP, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AXP (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for AMGN, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for AMGN (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for AMGN, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for AMGN
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'AMGN' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-04' (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 316.53 (valid: True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(AMGN, 2025-03-04, 316.53)
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: AMGN
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 150321402139.99197, 'pe_ratio': 23.3279, 'dividend_yield': 331.92708, 'week_52_high': 339.17, 'week_52_low': 253.3, 'quarterly_dividend': 2.38}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 150321402139.99197, 'pe_ratio': 23.3279, 'dividend_yield': 331.92708, 'week_52_high': 339.17, 'week_52_low': 253.3, 'quarterly_dividend': 2.38}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for AMGN: {'market_cap': 150321402139.99197, 'pe_ratio': 23.3279, 'dividend_yield': 331.92708, 'week_52_high': 339.17, 'week_52_low': 253.3, 'quarterly_dividend': 2.38}
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for TRV, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for TRV (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for TRV, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for TRV (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for CRM, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for CRM (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for CRM, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CRM (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for JPM, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for JPM (target: 5)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JPM (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for IBM, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for IBM (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for IBM, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for IBM (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for HON, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for HON (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for HON, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HON (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for BA, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for BA (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for BA, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for BA (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AMZN, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AMZN (target: 5)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMZN (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AAPL, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AAPL (target: 5)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AAPL (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for PG, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for PG (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for PG, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for PG (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for JNJ, target: 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for JNJ (target: 5)
2026-01-12 15:14:44 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for JNJ, expected 5
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-04T00:00:00Z
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-04
2026-01-12 15:14:44 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JNJ (exclude_fundamental=True)
2026-01-12 15:14:44 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:408 - [FEATURE_BUILD] Enhanced features built
2026-01-12 15:14:44 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:417 - [AGENT_DECISION] Step 3: Calling decision agent with enhanced features
2026-01-12 15:14:44 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:583 - [DEBUG] Dual agent decision: Using historical records, containing history of 20 symbols
2026-01-12 15:14:44 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:723 - [DUAL_AGENT_UNIFIED_RETRY] Starting unified retry loop: current_retry=0, max_total_retries=3
2026-01-12 15:14:44 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:15:08 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 24178ms, Token usage: {'prompt_tokens': 9027, 'completion_tokens': 1819, 'total_tokens': 10846}
2026-01-12 15:15:09 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Insufficient available_cash: Expected remaining cash -55000.00 < 0
2026-01-12 15:15:09 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Expected remaining cash ratio -0.550 below minimum requirement 0.000
2026-01-12 15:15:09 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 2/3 (engine: 0, llm: 1)
2026-01-12 15:15:09 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Including retry notes from previous validation failures
2026-01-12 15:15:09 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 1, Total: 1
2026-01-12 15:15:09 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:16:34 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 85569ms, Token usage: {'prompt_tokens': 9103, 'completion_tokens': 6220, 'total_tokens': 15323}
2026-01-12 15:16:34 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Insufficient available_cash: Expected remaining cash -11111.20 < 0
2026-01-12 15:16:34 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Expected remaining cash ratio -0.111 below minimum requirement 0.000
2026-01-12 15:16:34 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 3/3 (engine: 0, llm: 2)
2026-01-12 15:16:34 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Including retry notes from previous validation failures
2026-01-12 15:16:34 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 2, Total: 2
2026-01-12 15:16:34 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:16:59 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 24659ms, Token usage: {'prompt_tokens': 9103, 'completion_tokens': 2096, 'total_tokens': 11199}
2026-01-12 15:16:59 | WARNING  | stockbench.agents.dual_agent_llm:_validate_decision_logic:107 - [BT_VALIDATE] Decrease operation unreasonable
2026-01-12 15:16:59 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:914 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: CAT decrease operation logic unreasonable
2026-01-12 15:16:59 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1059 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Decision logic validation failed for 1 decisions
2026-01-12 15:16:59 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Insufficient available_cash: Expected remaining cash -80000.00 < 0
2026-01-12 15:16:59 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Expected remaining cash ratio -0.800 below minimum requirement 0.000
2026-01-12 15:16:59 | ERROR    | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1099 - [DUAL_AGENT_UNIFIED_RETRY] All 3 attempts failed due to validation errors (engine: 0, llm: 2)
2026-01-12 15:16:59 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] decision_agent completed
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:582 - [AGENT_EXECUTOR] Unified executor completed
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:590 - [AGENT_EXEC] Execution summary
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:609 - === Unified Executor Decision Call Ended ===

2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:690 - 
=== Store Pending Decisions Started ===
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:691 - [PENDING_SAVE] Preparing to store pending decisions
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:722 - [PENDING_SAVE] Pending decisions stored, waiting for recording after trade execution
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:723 - === Store Pending Decisions Completed ===

2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1158 - [PRECALC] Total cash required for all orders: 0.00, available: 100000.00
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1224 - [RETRY_MECHANISM] No rejected orders; proceeding with execution
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1340 - 
=== Daily NAV Calculation [2025-03-04] ===
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1341 - [DAILY_NAV] Current cash: 100000.00
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1342 - [DAILY_NAV] Position details:
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1362 - [DAILY_NAV] Total position market value: 0.00
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1363 - [DAILY_NAV] Total equity: 100000.00 + 0.00 = 100000.00
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1364 - [DAILY_NAV] Initial capital: 100000.00
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1365 - [DAILY_NAV] Daily NAV: 100000.00 / 100000.00 = 1.000000
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1366 - [DAILY_NAV] Current cash ratio: 1.0000
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1367 - === Daily NAV Calculation Completed ===

2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1376 - [DELAYED_RECORD] No successful trades today, but still need to record hold decisions
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:741 - 
=== Decision Recording (New Memory System) ===
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:742 - [RECORD] Decisions have been saved to ctx.memory.episodes by Agents automatically
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:743 - [RECORD] Clearing pending decisions state
2026-01-12 15:16:59 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:752 - === Decision Recording Completed ===

2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1389 - [NEXT_TRADING_DAY] Next trading day after 2025-03-04: 2025-03-05
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:_get_next_day_open_prices:638 - [NEXT_DAY_PRICE] Final result: successfully fetched opening prices for 20/20 symbols
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1000 - [DEBUG] 2025-03-05 build previous_open_map: 0 symbols
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 GS: got open 582.09, close 593.07
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 GS: using open as mark price 582.09
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 MSFT: got open 389.34, close 401.02
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 MSFT: using open as mark price 389.34
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 HD: got open 379.0, close 386.35
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 HD: using open as mark price 379.0
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 V: got open 350.83, close 352.68
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 V: using open as mark price 350.83
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 SHW: got open 356.56, close 362.32
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 SHW: using open as mark price 356.56
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 CAT: got open 329.12, close 338.49
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 CAT: using open as mark price 329.12
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 MCD: got open 304.0, close 307.45
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 MCD: using open as mark price 304.0
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 UNH: got open 471.07, close 475.98
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 UNH: using open as mark price 471.07
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 AXP: got open 283.0, close 284.18
2026-01-12 15:16:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 AXP: using open as mark price 283.0
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 AMGN: got open 310.63, close 316.57
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 AMGN: using open as mark price 310.63
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 TRV: got open 255.87, close 258.03
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 TRV: using open as mark price 255.87
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 CRM: got open 287.22, close 291.97
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 CRM: using open as mark price 287.22
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 JPM: got open 251.25, close 251.53
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 JPM: using open as mark price 251.25
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 IBM: got open 251.58, close 251.35
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 IBM: using open as mark price 251.58
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 HON: got open 208.0, close 209.62
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 HON: using open as mark price 208.0
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 BA: got open 159.96, close 163.16
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 BA: using open as mark price 159.96
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 AMZN: got open 204.8, close 208.36
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 AMZN: using open as mark price 204.8
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 AAPL: got open 235.42, close 235.74
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 AAPL: using open as mark price 235.42
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 PG: got open 173.38, close 174.61
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 PG: using open as mark price 173.38
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-05 JNJ: got open 164.51, close 165.12
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-05 JNJ: using open as mark price 164.51
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1070 - [DEBUG] 2025-03-05 open_map built: 20 symbols
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[GS] = 582.09
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[MSFT] = 389.34
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[HD] = 379.0
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[V] = 350.83
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[SHW] = 356.56
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[CAT] = 329.12
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[MCD] = 304.0
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[UNH] = 471.07
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[AXP] = 283.0
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[AMGN] = 310.63
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[TRV] = 255.87
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[CRM] = 287.22
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[JPM] = 251.25
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[IBM] = 251.58
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[HON] = 208.0
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[BA] = 159.96
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[AMZN] = 204.8
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[AAPL] = 235.42
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[PG] = 173.38
2026-01-12 15:17:00 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-05 open_map[JNJ] = 164.51
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: GS, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: GS, 4/5, will try API
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: GS, 4 items (API unavailable)
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MSFT, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: MSFT, 5/5
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HD, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HD, 2/5, will try API
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:00 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HD, 2 items (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: V, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: V, 4/5, will try API
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: V, 4 items (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: SHW, current 10 records
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: SHW, 10 records (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: SHW, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: SHW, 3/5, will try API
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: SHW, 3 items (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: CAT, current 10 records
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: CAT, 10 records (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CAT, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CAT, 5/5
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: MCD, current 10 records
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: MCD, 10 records (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MCD, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: MCD, 3/5, will try API
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: MCD, 3 items (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: UNH, current 10 records
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: UNH, 10 records (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: UNH, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: UNH, 4/5, will try API
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: UNH, 4 items (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AXP, current 10 records
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AXP, 10 records (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AXP, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AXP, 5/5
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AMGN, current 10 records
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AMGN, 10 records (API unavailable)
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMGN, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AMGN, 2/5, will try API
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AMGN, 2 items (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: TRV, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: TRV, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: TRV, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: TRV, 2/5, will try API
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: TRV, 2 items (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: CRM, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: CRM, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CRM, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CRM, 5/5
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: JPM, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: JPM, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JPM, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: JPM, 5/5
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: IBM, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: IBM, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: IBM, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: IBM, 2/5, will try API
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: IBM, 2 items (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: HON, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: HON, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HON, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HON, 4/5, will try API
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HON, 4 items (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: BA, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: BA, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: BA, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: BA, 5/5
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AMZN, current 10 records
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AMZN, 10 records (API unavailable)
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMZN, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:02 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AMZN, 5/5
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: AAPL, current 10 records
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: AAPL, 10 records (API unavailable)
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AAPL, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AAPL, 5/5
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: PG, current 10 records
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: PG, 10 records (API unavailable)
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: PG, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: PG, 5/5
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:669 - ‚ö†Ô∏è Local Parquet data incomplete, will try other sources: JNJ, current 10 records
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:689 - üîÑ [API-UNAVAILABLE] API not available, returning best cached data
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_bars:692 - üìä [CACHE-FALLBACK] Returning incomplete Parquet data: JNJ, 10 records (API unavailable)
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JNJ, GTE: 2025-03-03, LTE: 2025-03-05, limit: 100, page_token: None
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: JNJ, 4/5, will try API
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:03 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: JNJ, 4 items (API unavailable)
2026-01-12 15:17:03 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:413 - 
=== Unified Executor Decision Call Started ===
2026-01-12 15:17:03 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:414 - [AGENT_EXECUTOR] Using unified executor for decision-making, Agent mode: dual
2026-01-12 15:17:03 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:415 - [AGENT_EXECUTOR] Agent mode in configuration: dual
2026-01-12 15:17:03 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:416 - [AGENT_EXECUTOR] Memory system: Agents will use ctx.memory.episodes for history
2026-01-12 15:17:05 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:562 - [AGENT_EXECUTOR] Calling unified executor
2026-01-12 15:17:05 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] decision_agent started
2026-01-12 15:17:05 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] decision_agent executing
2026-01-12 15:17:05 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:268 - [AGENT_DECISION] Starting dual-agent decision process
2026-01-12 15:17:05 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:275 - [AGENT_FILTER] Step 1: Calling fundamental filter agent
2026-01-12 15:17:05 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] fundamental_filter started
2026-01-12 15:17:05 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] fundamental_filter executing
2026-01-12 15:17:05 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:176 - [FUNDAMENTAL_FILTER] Using historical records, containing history of 20 symbols
2026-01-12 15:17:05 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ fundamental_filter - Model: gpt-4o-mini
2026-01-12 15:17:09 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ fundamental_filter success - Latency: 4262ms, Token usage: {'prompt_tokens': 7061, 'completion_tokens': 161, 'total_tokens': 7222}
2026-01-12 15:17:10 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:225 - [FUNDAMENTAL_FILTER] LLM call completed: cached=False, latency=4262ms
2026-01-12 15:17:10 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:273 - [FUNDAMENTAL_FILTER] Filter completed: 3/20 stocks need fundamental analysis: ['GS', 'MSFT', 'AAPL']
2026-01-12 15:17:10 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:275 - [FUNDAMENTAL_FILTER] Used historical records for 20 symbols in filtering decision
2026-01-12 15:17:10 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] fundamental_filter completed
2026-01-12 15:17:10 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:287 - [AGENT_FILTER] Filter completed
2026-01-12 15:17:10 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:295 - [FEATURE_BUILD] Step 2: Building enhanced features based on filtering results
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for GS, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for GS (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for GS, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for GS
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'GS' (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-05' (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 582.09 (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(GS, 2025-03-05, 582.09)
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: GS
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for GS: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for MSFT, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for MSFT (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for MSFT
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'MSFT' (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-05' (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 389.34 (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(MSFT, 2025-03-05, 389.34)
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: MSFT
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for MSFT: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for HD, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for HD (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for HD, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HD (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for V, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for V (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for V, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for V (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for SHW, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for SHW (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for SHW, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for SHW (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for CAT, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for CAT (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CAT (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for MCD, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for MCD (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for MCD, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for MCD (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for UNH, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for UNH (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for UNH, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for UNH (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AXP, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AXP (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AXP (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for AMGN, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for AMGN (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for AMGN, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMGN (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for TRV, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for TRV (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for TRV, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for TRV (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for CRM, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for CRM (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CRM (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for JPM, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for JPM (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JPM (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for IBM, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for IBM (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for IBM, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for IBM (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for HON, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for HON (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for HON, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HON (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for BA, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for BA (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for BA (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AMZN, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AMZN (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMZN (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AAPL, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AAPL (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for AAPL
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'AAPL' (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-05' (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 235.42 (valid: True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(AAPL, 2025-03-05, 235.42)
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: AAPL
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 3744378604408.9883, 'pe_ratio': 37.6697, 'dividend_yield': 41.219136, 'week_52_high': 260.1, 'week_52_low': 169.2101, 'quarterly_dividend': 0.26}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 3744378604408.9883, 'pe_ratio': 37.6697, 'dividend_yield': 41.219136, 'week_52_high': 260.1, 'week_52_low': 169.2101, 'quarterly_dividend': 0.26}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for AAPL: {'market_cap': 3744378604408.9883, 'pe_ratio': 37.6697, 'dividend_yield': 41.219136, 'week_52_high': 260.1, 'week_52_low': 169.2101, 'quarterly_dividend': 0.26}
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for PG, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for PG (target: 5)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for PG (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for JNJ, target: 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for JNJ (target: 5)
2026-01-12 15:17:10 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for JNJ, expected 5
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-05T00:00:00Z
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-05
2026-01-12 15:17:10 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JNJ (exclude_fundamental=True)
2026-01-12 15:17:10 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:408 - [FEATURE_BUILD] Enhanced features built
2026-01-12 15:17:10 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:417 - [AGENT_DECISION] Step 3: Calling decision agent with enhanced features
2026-01-12 15:17:10 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:583 - [DEBUG] Dual agent decision: Using historical records, containing history of 20 symbols
2026-01-12 15:17:10 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:723 - [DUAL_AGENT_UNIFIED_RETRY] Starting unified retry loop: current_retry=0, max_total_retries=3
2026-01-12 15:17:10 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:17:39 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 29232ms, Token usage: {'prompt_tokens': 8914, 'completion_tokens': 2431, 'total_tokens': 11345}
2026-01-12 15:17:39 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Insufficient available_cash: Expected remaining cash -115000.00 < 0
2026-01-12 15:17:39 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Expected remaining cash ratio -1.150 below minimum requirement 0.000
2026-01-12 15:17:39 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 2/3 (engine: 0, llm: 1)
2026-01-12 15:17:39 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Including retry notes from previous validation failures
2026-01-12 15:17:39 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 1, Total: 1
2026-01-12 15:17:39 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:17:57 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 18568ms, Token usage: {'prompt_tokens': 8990, 'completion_tokens': 1438, 'total_tokens': 10428}
2026-01-12 15:17:58 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:944 - ‚úÖ [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: All validations passed, processing results
2026-01-12 15:17:58 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1052 - üíæ [DUAL_AGENT] Saved 2 decisions to EpisodicMemory
2026-01-12 15:17:58 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] decision_agent completed
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:582 - [AGENT_EXECUTOR] Unified executor completed
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:590 - [AGENT_EXEC] Execution summary
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:609 - === Unified Executor Decision Call Ended ===

2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:690 - 
=== Store Pending Decisions Started ===
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:691 - [PENDING_SAVE] Preparing to store pending decisions
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:722 - [PENDING_SAVE] Pending decisions stored, waiting for recording after trade execution
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:723 - === Store Pending Decisions Completed ===

2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1158 - [PRECALC] Total cash required for all orders: 100010.57, available: 100000.00
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] GS: pf.cash=100000.0 (type: <class 'float'>), net_cost=50006.531153100004 (type: <class 'float'>)
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] GS: pf.cash < net_cost = False
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] GS: pf.cash >= net_cost = True
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] GS precheck passed: sufficient cash 100000.00 >= required 50006.53
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] MSFT: pf.cash=100000.0 (type: <class 'float'>), net_cost=50004.042704279986 (type: <class 'float'>)
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] MSFT: pf.cash < net_cost = False
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] MSFT: pf.cash >= net_cost = True
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] MSFT precheck passed: sufficient cash 100000.00 >= required 50004.04
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1224 - [RETRY_MECHANISM] No rejected orders; proceeding with execution
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [GS] ===
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-05
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=85.9, exec_px=582.2064, net_cost=50006.53
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 100000.00
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 85.90 = 85.90
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 85.90 √ó 582.2064) / 85.90 = 582.2064
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 50006.53 = 50006.53
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=85.90, avg_price=582.2064
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -50006.53
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [GS] ===

2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: GS
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [MSFT] ===
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-05
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=128.42, exec_px=389.4179, net_cost=50004.04
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 49993.47
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1254 - [BACKTEST_CASH_CHECK] MSFT trade still rejected: insufficient cash 49993.47 < required 50004.04
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1255 - [BACKTEST_CASH_CHECK] This should not happen; retry mechanism may have issues
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1256 - === DAY trade processing skipped [MSFT] ===

2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1340 - 
=== Daily NAV Calculation [2025-03-05] ===
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1341 - [DAILY_NAV] Current cash: 49993.47
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1342 - [DAILY_NAV] Position details:
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   GS: 85.90 √ó 582.0900 = 50001.53
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   MSFT: 0.00 √ó 389.3400 = 0.00
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1362 - [DAILY_NAV] Total position market value: 50001.53
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1363 - [DAILY_NAV] Total equity: 49993.47 + 50001.53 = 99995.00
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1364 - [DAILY_NAV] Initial capital: 100000.00
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1365 - [DAILY_NAV] Daily NAV: 99995.00 / 100000.00 = 0.999950
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1366 - [DAILY_NAV] Current cash ratio: 0.5000
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1367 - === Daily NAV Calculation Completed ===

2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1374 - [DELAYED_RECORD] Daily trading completed, recording executed decisions
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:741 - 
=== Decision Recording (New Memory System) ===
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:742 - [RECORD] Decisions have been saved to ctx.memory.episodes by Agents automatically
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:743 - [RECORD] Clearing pending decisions state
2026-01-12 15:17:58 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:752 - === Decision Recording Completed ===

2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1389 - [NEXT_TRADING_DAY] Next trading day after 2025-03-05: 2025-03-06
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:_get_next_day_open_prices:638 - [NEXT_DAY_PRICE] Final result: successfully fetched opening prices for 20/20 symbols
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1000 - [DEBUG] 2025-03-06 build previous_open_map: 0 symbols
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 GS: got open 580.59, close 567.67
2026-01-12 15:17:58 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 GS: using open as mark price 580.59
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 MSFT: got open 394.28, close 396.89
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 MSFT: using open as mark price 394.28
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 HD: got open 383.5, close 381.73
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 HD: using open as mark price 383.5
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 V: got open 345.96, close 344.16
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 V: using open as mark price 345.96
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 SHW: got open 358.19, close 360.08
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 SHW: using open as mark price 358.19
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 CAT: got open 335.27, close 341.01
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 CAT: using open as mark price 335.27
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 MCD: got open 307.8, close 310.37
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 MCD: using open as mark price 307.8
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 UNH: got open 476.0, close 487.72
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 UNH: using open as mark price 476.0
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 AXP: got open 279.8, close 275.64
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 AXP: using open as mark price 279.8
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 AMGN: got open 316.42, close 317.82
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 AMGN: using open as mark price 316.42
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 TRV: got open 256.75, close 256.02
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 TRV: using open as mark price 256.75
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 CRM: got open 288.23, close 286.05
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 CRM: using open as mark price 288.23
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 JPM: got open 248.11, close 246.54
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 JPM: using open as mark price 248.11
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 IBM: got open 249.75, close 248.69
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 IBM: using open as mark price 249.75
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 HON: got open 208.94, close 211.26
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 HON: using open as mark price 208.94
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 BA: got open 161.42, close 158.43
2026-01-12 15:17:59 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 BA: using open as mark price 161.42
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 AMZN: got open 204.4, close 200.7
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 AMZN: using open as mark price 204.4
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 AAPL: got open 234.435, close 235.33
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 AAPL: using open as mark price 234.435
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 PG: got open 174.89, close 174.66
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 PG: using open as mark price 174.89
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-06 JNJ: got open 165.0, close 165.83
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-06 JNJ: using open as mark price 165.0
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1070 - [DEBUG] 2025-03-06 open_map built: 20 symbols
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[GS] = 580.59
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[MSFT] = 394.28
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[HD] = 383.5
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[V] = 345.96
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[SHW] = 358.19
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[CAT] = 335.27
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[MCD] = 307.8
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[UNH] = 476.0
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[AXP] = 279.8
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[AMGN] = 316.42
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[TRV] = 256.75
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[CRM] = 288.23
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[JPM] = 248.11
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[IBM] = 249.75
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[HON] = 208.94
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[BA] = 161.42
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[AMZN] = 204.4
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[AAPL] = 234.435
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[PG] = 174.89
2026-01-12 15:18:06 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-06 open_map[JNJ] = 165.0
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: GS, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: GS, 5/5
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MSFT, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: MSFT, 5/5
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HD, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HD, 2/5, will try API
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HD, 2 items (API unavailable)
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: V, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: V, 4/5, will try API
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:17:59 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: V, 4 items (API unavailable)
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: SHW, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: SHW, 5/5
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CAT, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CAT, 5/5
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MCD, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: MCD, 3/5, will try API
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: MCD, 3 items (API unavailable)
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: UNH, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: UNH, 4/5, will try API
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: UNH, 4 items (API unavailable)
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AXP, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AXP, 5/5
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMGN, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AMGN, 2/5, will try API
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:18:00 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AMGN, 2 items (API unavailable)
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: TRV, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: TRV, 2/5, will try API
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: TRV, 2 items (API unavailable)
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CRM, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CRM, 5/5
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JPM, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: JPM, 5/5
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: IBM, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: IBM, 5/5
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HON, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HON, 1/5, will try API
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HON, 1 items (API unavailable)
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: BA, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: BA, 5/5
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMZN, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:01 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AMZN, 5/5
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AAPL, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AAPL, 5/5
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: PG, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: PG, 4/5, will try API
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: PG, 4 items (API unavailable)
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JNJ, GTE: 2025-03-04, LTE: 2025-03-06, limit: 100, page_token: None
2026-01-12 15:18:02 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: JNJ, 5/5
2026-01-12 15:18:02 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:413 - 
=== Unified Executor Decision Call Started ===
2026-01-12 15:18:02 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:414 - [AGENT_EXECUTOR] Using unified executor for decision-making, Agent mode: dual
2026-01-12 15:18:02 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:415 - [AGENT_EXECUTOR] Agent mode in configuration: dual
2026-01-12 15:18:02 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:416 - [AGENT_EXECUTOR] Memory system: Agents will use ctx.memory.episodes for history
2026-01-12 15:18:11 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:562 - [AGENT_EXECUTOR] Calling unified executor
2026-01-12 15:18:11 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] decision_agent started
2026-01-12 15:18:11 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] decision_agent executing
2026-01-12 15:18:11 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:268 - [AGENT_DECISION] Starting dual-agent decision process
2026-01-12 15:18:11 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:275 - [AGENT_FILTER] Step 1: Calling fundamental filter agent
2026-01-12 15:18:11 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] fundamental_filter started
2026-01-12 15:18:11 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] fundamental_filter executing
2026-01-12 15:18:11 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:176 - [FUNDAMENTAL_FILTER] Using historical records, containing history of 20 symbols
2026-01-12 15:18:11 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ fundamental_filter - Model: gpt-4o-mini
2026-01-12 15:18:12 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ fundamental_filter success - Latency: 1629ms, Token usage: {'prompt_tokens': 6931, 'completion_tokens': 530, 'total_tokens': 7461}
2026-01-12 15:18:12 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:225 - [FUNDAMENTAL_FILTER] LLM call completed: cached=False, latency=1629ms
2026-01-12 15:18:12 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:273 - [FUNDAMENTAL_FILTER] Filter completed: 3/20 stocks need fundamental analysis: ['GS', 'BA', 'AAPL']
2026-01-12 15:18:12 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:275 - [FUNDAMENTAL_FILTER] Used historical records for 20 symbols in filtering decision
2026-01-12 15:18:12 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] fundamental_filter completed
2026-01-12 15:18:12 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:287 - [AGENT_FILTER] Filter completed
2026-01-12 15:18:12 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:295 - [FEATURE_BUILD] Step 2: Building enhanced features based on filtering results
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for GS, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for GS (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for GS
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'GS' (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-06' (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 580.59 (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(GS, 2025-03-06, 580.59)
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: GS
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for GS: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for MSFT, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for MSFT (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for MSFT (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for HD, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for HD (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for HD, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HD (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for V, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for V (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for V, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for V (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for SHW, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for SHW (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for SHW (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for CAT, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for CAT (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CAT (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for MCD, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for MCD (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for MCD, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for MCD (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for UNH, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for UNH (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for UNH, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for UNH (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AXP, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AXP (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AXP (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for AMGN, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for AMGN (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for AMGN, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMGN (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for TRV, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for TRV (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for TRV, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for TRV (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for CRM, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for CRM (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CRM (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for JPM, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for JPM (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JPM (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for IBM, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for IBM (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for IBM (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for HON, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for HON (target: 5)
2026-01-12 15:18:12 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for HON, expected 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HON (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for BA, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for BA (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for BA
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'BA' (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-06' (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 161.42 (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(BA, 2025-03-06, 161.42)
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: BA
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 162649521709.46658, 'pe_ratio': 0.0, 'dividend_yield': 0.0, 'week_52_high': 242.6899, 'week_52_low': 128.8801, 'quarterly_dividend': 2.055}
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 162649521709.46658, 'pe_ratio': 0.0, 'dividend_yield': 0.0, 'week_52_high': 242.6899, 'week_52_low': 128.8801, 'quarterly_dividend': 2.055}
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for BA: {'market_cap': 162649521709.46658, 'pe_ratio': 0.0, 'dividend_yield': 0.0, 'week_52_high': 242.6899, 'week_52_low': 128.8801, 'quarterly_dividend': 2.055}
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AMZN, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AMZN (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMZN (exclude_fundamental=True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AAPL, target: 5
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AAPL (target: 5)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for AAPL
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'AAPL' (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-06' (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 234.435 (valid: True)
2026-01-12 15:18:12 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(AAPL, 2025-03-06, 234.435)
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: AAPL
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-06
2026-01-12 15:18:12 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 3744378604408.9883, 'pe_ratio': 37.6697, 'dividend_yield': 41.219136, 'week_52_high': 260.1, 'week_52_low': 169.2101, 'quarterly_dividend': 0.26}
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 3744378604408.9883, 'pe_ratio': 37.6697, 'dividend_yield': 41.219136, 'week_52_high': 260.1, 'week_52_low': 169.2101, 'quarterly_dividend': 0.26}
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for AAPL: {'market_cap': 3744378604408.9883, 'pe_ratio': 37.6697, 'dividend_yield': 41.219136, 'week_52_high': 260.1, 'week_52_low': 169.2101, 'quarterly_dividend': 0.26}
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for PG, target: 5
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for PG (target: 5)
2026-01-12 15:18:13 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for PG, expected 5
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for PG (exclude_fundamental=True)
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for JNJ, target: 5
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for JNJ (target: 5)
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-06T00:00:00Z
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-06
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-06
2026-01-12 15:18:13 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JNJ (exclude_fundamental=True)
2026-01-12 15:18:13 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:408 - [FEATURE_BUILD] Enhanced features built
2026-01-12 15:18:13 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:417 - [AGENT_DECISION] Step 3: Calling decision agent with enhanced features
2026-01-12 15:18:13 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:583 - [DEBUG] Dual agent decision: Using historical records, containing history of 20 symbols
2026-01-12 15:18:13 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:723 - [DUAL_AGENT_UNIFIED_RETRY] Starting unified retry loop: current_retry=0, max_total_retries=3
2026-01-12 15:18:13 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:18:37 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 24327ms, Token usage: {'prompt_tokens': 8876, 'completion_tokens': 1726, 'total_tokens': 10602}
2026-01-12 15:18:37 | WARNING  | stockbench.agents.dual_agent_llm:_validate_decision_logic:107 - [BT_VALIDATE] Decrease operation unreasonable
2026-01-12 15:18:37 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:914 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: AAPL decrease operation logic unreasonable
2026-01-12 15:18:37 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1059 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Decision logic validation failed for 1 decisions
2026-01-12 15:18:37 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Insufficient available_cash: Expected remaining cash -62006.53 < 0
2026-01-12 15:18:37 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Expected remaining cash ratio -0.621 below minimum requirement 0.000
2026-01-12 15:18:37 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 2/3 (engine: 0, llm: 1)
2026-01-12 15:18:37 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Including retry notes from previous validation failures
2026-01-12 15:18:37 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 1, Total: 1
2026-01-12 15:18:37 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:18:59 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 22172ms, Token usage: {'prompt_tokens': 9002, 'completion_tokens': 1640, 'total_tokens': 10642}
2026-01-12 15:18:59 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Insufficient available_cash: Expected remaining cash -70006.53 < 0
2026-01-12 15:18:59 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Expected remaining cash ratio -0.701 below minimum requirement 0.000
2026-01-12 15:18:59 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 3/3 (engine: 0, llm: 2)
2026-01-12 15:18:59 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Including retry notes from previous validation failures
2026-01-12 15:18:59 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 2, Total: 2
2026-01-12 15:18:59 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:19:23 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 23584ms, Token usage: {'prompt_tokens': 8952, 'completion_tokens': 1938, 'total_tokens': 10890}
2026-01-12 15:19:23 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:944 - ‚úÖ [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: All validations passed, processing results
2026-01-12 15:19:23 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1052 - üíæ [DUAL_AGENT] Saved 9 decisions to EpisodicMemory
2026-01-12 15:19:23 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] decision_agent completed
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:582 - [AGENT_EXECUTOR] Unified executor completed
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:590 - [AGENT_EXEC] Execution summary
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:609 - === Unified Executor Decision Call Ended ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:690 - 
=== Store Pending Decisions Started ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:691 - [PENDING_SAVE] Preparing to store pending decisions
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:722 - [PENDING_SAVE] Pending decisions stored, waiting for recording after trade execution
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:723 - === Store Pending Decisions Completed ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1158 - [PRECALC] Total cash required for all orders: 45002.79, available: 49993.47
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] MSFT: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=4999.970347039999 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] MSFT: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] MSFT: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] MSFT precheck passed: sufficient cash 49993.47 >= required 4999.97
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] HD: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=5001.3400839999995 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] HD: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] HD: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] HD precheck passed: sufficient cash 49993.47 >= required 5001.34
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] V: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=4999.621912199999 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] V: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] V: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] V precheck passed: sufficient cash 49993.47 >= required 4999.62
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] SHW: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=5000.832433240001 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] SHW: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] SHW: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] SHW precheck passed: sufficient cash 49993.47 >= required 5000.83
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] MCD: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=4999.1718672 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] MCD: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] MCD: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] MCD precheck passed: sufficient cash 49993.47 >= required 4999.17
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] AXP: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=5000.5260026000005 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] AXP: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] AXP: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] AXP precheck passed: sufficient cash 49993.47 >= required 5000.53
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] CRM: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=5001.290579050001 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] CRM: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] CRM: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] CRM precheck passed: sufficient cash 49993.47 >= required 5001.29
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] JPM: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=4999.916441650001 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] JPM: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] JPM: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] JPM precheck passed: sufficient cash 49993.47 >= required 4999.92
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1179 - [DAY_PRECHECK_DEBUG] AMZN: pf.cash=49993.468846899996 (type: <class 'float'>), net_cost=5000.123962400001 (type: <class 'float'>)
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1180 - [DAY_PRECHECK_DEBUG] AMZN: pf.cash < net_cost = False
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1181 - [DAY_PRECHECK_DEBUG] AMZN: pf.cash >= net_cost = True
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1205 - [DAY_PRECHECK] AMZN precheck passed: sufficient cash 49993.47 >= required 5000.12
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1224 - [RETRY_MECHANISM] No rejected orders; proceeding with execution
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [MSFT] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=12.68, exec_px=394.3589, net_cost=4999.97
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 49993.47
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 12.68 = 12.68
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 12.68 √ó 394.3589) / 12.68 = 394.3589
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 4999.97 = 4999.97
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=12.68, avg_price=394.3589
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -4999.97
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [MSFT] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: MSFT
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [HD] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=13.04, exec_px=383.5767, net_cost=5001.34
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 44993.50
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 13.04 = 13.04
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 13.04 √ó 383.5767) / 13.04 = 383.5767
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 5001.34 = 5001.34
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=13.04, avg_price=383.5767
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -5001.34
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [HD] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: HD
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [V] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=14.45, exec_px=346.0292, net_cost=4999.62
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 39992.16
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 14.45 = 14.45
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 14.45 √ó 346.0292) / 14.45 = 346.0292
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 4999.62 = 4999.62
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=14.45, avg_price=346.0292
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -4999.62
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [V] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: V
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [SHW] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=13.96, exec_px=358.2616, net_cost=5000.83
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 34992.54
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 13.96 = 13.96
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 13.96 √ó 358.2616) / 13.96 = 358.2616
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 5000.83 = 5000.83
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=13.96, avg_price=358.2616
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -5000.83
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [SHW] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: SHW
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [MCD] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=16.24, exec_px=307.8616, net_cost=4999.17
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 29991.70
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 16.24 = 16.24
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 16.24 √ó 307.8616) / 16.24 = 307.8616
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 4999.17 = 4999.17
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=16.24, avg_price=307.8616
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -4999.17
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [MCD] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: MCD
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [AXP] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=17.87, exec_px=279.8560, net_cost=5000.53
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 24992.53
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 17.87 = 17.87
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 17.87 √ó 279.8560) / 17.87 = 279.8560
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 5000.53 = 5000.53
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=17.87, avg_price=279.8560
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -5000.53
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [AXP] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: AXP
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [CRM] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=17.35, exec_px=288.2876, net_cost=5001.29
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 19992.01
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 17.35 = 17.35
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 17.35 √ó 288.2876) / 17.35 = 288.2876
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 5001.29 = 5001.29
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=17.35, avg_price=288.2876
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -5001.29
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [CRM] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: CRM
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [JPM] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=20.15, exec_px=248.1596, net_cost=4999.92
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 14990.72
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 20.15 = 20.15
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 20.15 √ó 248.1596) / 20.15 = 248.1596
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 4999.92 = 4999.92
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=20.15, avg_price=248.1596
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -4999.92
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [JPM] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: JPM
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:_fill_at_open:799 - [BT_ORDER] Order filled
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1246 - 
=== DAY trade processing [AMZN] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1247 - [DAY_TRADE] trade date: 2025-03-06
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1248 - [DAY_TRADE] params: filled=24.46, exec_px=204.4409, net_cost=5000.12
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1249 - [DAY_TRADE] current cash: 9990.80
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1261 - [DAY_TRADE] Position update start
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1262 - [DAY_TRADE] Before: shares=0.00, avg_price=0.0000
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1269 - [DAY_TRADE] New shares: 0.00 + 24.46 = 24.46
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1273 - [DAY_TRADE] Avg price calc: (0.0000 √ó 0.00 + 24.46 √ó 204.4409) / 24.46 = 204.4409
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1278 - [DAY_TRADE] Buy total cost: 0.00 + 5000.12 = 5000.12
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1298 - [DAY_TRADE] After: shares=24.46, avg_price=204.4409
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1301 - [DAY_TRADE] Update cash by net cost: -5000.12
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1307 - === DAY trade processing completed [AMZN] ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1332 - [DELAYED_RECORD] Daily trade successful, marking symbol: AMZN
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1340 - 
=== Daily NAV Calculation [2025-03-06] ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1341 - [DAILY_NAV] Current cash: 4990.68
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1342 - [DAILY_NAV] Position details:
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   GS: 85.90 √ó 580.5900 = 49872.68
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   MSFT: 12.68 √ó 394.2800 = 4999.47
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   HD: 13.04 √ó 383.5000 = 5000.84
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   V: 14.45 √ó 345.9600 = 4999.12
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   SHW: 13.96 √ó 358.1900 = 5000.33
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   MCD: 16.24 √ó 307.8000 = 4998.67
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   AXP: 17.87 √ó 279.8000 = 5000.03
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   CRM: 17.35 √ó 288.2300 = 5000.79
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   JPM: 20.15 √ó 248.1100 = 4999.42
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   AMZN: 24.46 √ó 204.4000 = 4999.62
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1362 - [DAILY_NAV] Total position market value: 94870.97
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1363 - [DAILY_NAV] Total equity: 4990.68 + 94870.97 = 99861.65
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1364 - [DAILY_NAV] Initial capital: 100000.00
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1365 - [DAILY_NAV] Daily NAV: 99861.65 / 100000.00 = 0.998617
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1366 - [DAILY_NAV] Current cash ratio: 0.0500
2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1367 - === Daily NAV Calculation Completed ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1374 - [DELAYED_RECORD] Daily trading completed, recording executed decisions
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:741 - 
=== Decision Recording (New Memory System) ===
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:742 - [RECORD] Decisions have been saved to ctx.memory.episodes by Agents automatically
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:743 - [RECORD] Clearing pending decisions state
2026-01-12 15:19:23 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:752 - === Decision Recording Completed ===

2026-01-12 15:19:23 | INFO     | stockbench.backtest.engine:run:1389 - [NEXT_TRADING_DAY] Next trading day after 2025-03-06: 2025-03-07
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:_get_next_day_open_prices:638 - [NEXT_DAY_PRICE] Final result: successfully fetched opening prices for 20/20 symbols
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1000 - [DEBUG] 2025-03-07 build previous_open_map: 0 symbols
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 GS: got open 568.17, close 559.67
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 GS: using open as mark price 568.17
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 MSFT: got open 392.32, close 393.31
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 MSFT: using open as mark price 392.32
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 HD: got open 379.5, close 376.8
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 HD: using open as mark price 379.5
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 V: got open 340.87, close 345.32
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 V: using open as mark price 340.87
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 SHW: got open 361.98, close 363.62
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 SHW: using open as mark price 361.98
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 CAT: got open 339.4, close 350.3
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 CAT: using open as mark price 339.4
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 MCD: got open 310.82, close 321.29
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 MCD: using open as mark price 310.82
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 UNH: got open 483.83, close 493.48
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 UNH: using open as mark price 483.83
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 AXP: got open 273.66, close 273.21
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 AXP: using open as mark price 273.66
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 AMGN: got open 318.95, close 324.86
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 AMGN: using open as mark price 318.95
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 TRV: got open 257.1, close 257.7
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 TRV: using open as mark price 257.1
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 CRM: got open 283.18, close 282.89
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 CRM: using open as mark price 283.18
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 JPM: got open 245.23, close 242.28
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 JPM: using open as mark price 245.23
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 IBM: got open 245.95, close 261.54
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 IBM: using open as mark price 245.95
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 HON: got open 211.25, close 214.52
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 HON: using open as mark price 211.25
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 BA: got open 157.19, close 154.18
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 BA: using open as mark price 157.19
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 AMZN: got open 199.49, close 199.25
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 AMZN: using open as mark price 199.49
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 AAPL: got open 235.105, close 239.07
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 AAPL: using open as mark price 235.105
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 PG: got open 174.09, close 175.95
2026-01-12 15:19:31 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 PG: using open as mark price 174.09
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-07 JNJ: got open 165.13, close 166.69
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-07 JNJ: using open as mark price 165.13
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1070 - [DEBUG] 2025-03-07 open_map built: 20 symbols
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[GS] = 568.17
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[MSFT] = 392.32
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[HD] = 379.5
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[V] = 340.87
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[SHW] = 361.98
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[CAT] = 339.4
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[MCD] = 310.82
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[UNH] = 483.83
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[AXP] = 273.66
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[AMGN] = 318.95
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[TRV] = 257.1
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[CRM] = 283.18
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[JPM] = 245.23
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[IBM] = 245.95
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[HON] = 211.25
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[BA] = 157.19
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[AMZN] = 199.49
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[AAPL] = 235.105
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[PG] = 174.09
2026-01-12 15:19:24 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-07 open_map[JNJ] = 165.13
2026-01-12 15:19:24 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: GS, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:24 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: GS, 5/5
2026-01-12 15:19:24 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MSFT, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:24 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: MSFT, 5/5
2026-01-12 15:19:24 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HD, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: HD, 5/5
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: V, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: V, 1/5, will try API
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: V, 1 items (API unavailable)
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: SHW, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: SHW, 4/5, will try API
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: SHW, 4 items (API unavailable)
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CAT, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CAT, 5/5
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MCD, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: MCD, 2/5, will try API
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: MCD, 2 items (API unavailable)
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: UNH, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:25 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: UNH, 5/5
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AXP, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AXP, 1/5, will try API
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AXP, 1 items (API unavailable)
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMGN, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AMGN, 1/5, will try API
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AMGN, 1 items (API unavailable)
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: TRV, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: TRV, 1/5, will try API
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: TRV, 1 items (API unavailable)
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CRM, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: CRM, 1/5, will try API
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: CRM, 1 items (API unavailable)
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JPM, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: JPM, 4/5, will try API
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: JPM, 4 items (API unavailable)
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: IBM, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: IBM, 3/5, will try API
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:26 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: IBM, 3 items (API unavailable)
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HON, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HON, 2/5, will try API
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HON, 2 items (API unavailable)
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: BA, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: BA, 3/5, will try API
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: BA, 3 items (API unavailable)
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMZN, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AMZN, 5/5
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AAPL, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AAPL, 5/5
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: PG, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: PG, 3/5, will try API
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: PG, 3 items (API unavailable)
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JNJ, GTE: 2025-03-05, LTE: 2025-03-07, limit: 100, page_token: None
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: JNJ, 2/5, will try API
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:19:27 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: JNJ, 2 items (API unavailable)
2026-01-12 15:19:27 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:413 - 
=== Unified Executor Decision Call Started ===
2026-01-12 15:19:27 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:414 - [AGENT_EXECUTOR] Using unified executor for decision-making, Agent mode: dual
2026-01-12 15:19:27 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:415 - [AGENT_EXECUTOR] Agent mode in configuration: dual
2026-01-12 15:19:27 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:416 - [AGENT_EXECUTOR] Memory system: Agents will use ctx.memory.episodes for history
2026-01-12 15:19:29 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:562 - [AGENT_EXECUTOR] Calling unified executor
2026-01-12 15:19:29 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] decision_agent started
2026-01-12 15:19:29 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] decision_agent executing
2026-01-12 15:19:29 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:268 - [AGENT_DECISION] Starting dual-agent decision process
2026-01-12 15:19:29 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:275 - [AGENT_FILTER] Step 1: Calling fundamental filter agent
2026-01-12 15:19:29 | INFO     | stockbench.core.pipeline_context:start_agent:121 - [AGENT_START] fundamental_filter started
2026-01-12 15:19:29 | INFO     | stockbench.core.decorators:wrapper:63 - [AGENT_EXEC] fundamental_filter executing
2026-01-12 15:19:29 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:176 - [FUNDAMENTAL_FILTER] Using historical records, containing history of 20 symbols
2026-01-12 15:19:29 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ fundamental_filter - Model: gpt-4o-mini
2026-01-12 15:19:34 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ fundamental_filter success - Latency: 4669ms, Token usage: {'prompt_tokens': 6306, 'completion_tokens': 177, 'total_tokens': 6483}
2026-01-12 15:19:34 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:225 - [FUNDAMENTAL_FILTER] LLM call completed: cached=False, latency=4669ms
2026-01-12 15:19:34 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:273 - [FUNDAMENTAL_FILTER] Filter completed: 4/20 stocks need fundamental analysis: ['GS', 'MSFT', 'HD', 'AMZN']
2026-01-12 15:19:34 | INFO     | stockbench.agents.fundamental_filter_agent:filter_stocks_needing_fundamental:275 - [FUNDAMENTAL_FILTER] Used historical records for 20 symbols in filtering decision
2026-01-12 15:19:34 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] fundamental_filter completed
2026-01-12 15:19:34 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:287 - [AGENT_FILTER] Filter completed
2026-01-12 15:19:34 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:295 - [FEATURE_BUILD] Step 2: Building enhanced features based on filtering results
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for GS, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for GS (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for GS
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'GS' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-07' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 568.17 (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(GS, 2025-03-07, 568.17)
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: GS
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for GS: {'market_cap': 239885283335.84174, 'pe_ratio': 15.7994, 'dividend_yield': 198.43237, 'week_52_high': 825.25, 'week_52_low': 439.38, 'quarterly_dividend': 4.0}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for MSFT, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for MSFT (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for MSFT
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'MSFT' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-07' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 392.32 (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(MSFT, 2025-03-07, 392.32)
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: MSFT
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for MSFT: {'market_cap': 3792029973778.1294, 'pe_ratio': 37.1709, 'dividend_yield': 71.351564, 'week_52_high': 555.45, 'week_52_low': 344.79, 'quarterly_dividend': 0.91}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for HD, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for HD (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for HD
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'HD' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-07' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 379.5 (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(HD, 2025-03-07, 379.5)
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: HD
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for HD: {'market_cap': 407879569356.67175, 'pe_ratio': 27.6853, 'dividend_yield': 223.89329999999998, 'week_52_high': 439.37, 'week_52_low': 326.31, 'quarterly_dividend': 2.3}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for V, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for V (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for V, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for V (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for SHW, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for SHW (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for SHW, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for SHW (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for CAT, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for CAT (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CAT (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for MCD, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for MCD (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for MCD, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for MCD (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for UNH, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for UNH (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for UNH (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for AXP, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for AXP (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for AXP, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AXP (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for AMGN, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for AMGN (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for AMGN, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AMGN (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for TRV, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for TRV (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for TRV, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for TRV (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 1 news items for CRM, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 1 news events for CRM (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 1 news events for CRM, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for CRM (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 4 news items for JPM, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 4 news events for JPM (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 4 news events for JPM, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JPM (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for IBM, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for IBM (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for IBM, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for IBM (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for HON, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for HON (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for HON, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for HON (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for BA, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for BA (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for BA, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for BA (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AMZN, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AMZN (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:416 - üöÄ [FUNDAMENTAL_DATA] Starting fundamental data computation for AMZN
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:417 - üîç [FUNDAMENTAL_DATA] Parameter validation:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:418 -   - symbol: 'AMZN' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:419 -   - trading_date: '2025-03-07' (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:420 -   - current_price: 199.49 (valid: True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:424 - ‚úÖ [FUNDAMENTAL_DATA] All parameters valid, calling _compute_stock_indicators(AMZN, 2025-03-07, 199.49)
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1390 - üìä [FUNDAMENTAL_DATA] get_stock_indicators called:
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1391 -   - ticker: AMZN
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1392 -   - date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.data_hub:get_stock_indicators:1393 -   - use_cache: True
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:426 - ‚úÖ [FUNDAMENTAL_DATA] Got stock_indicators from _compute_stock_indicators: {'market_cap': 2348520367046.1025, 'pe_ratio': 33.3298, 'dividend_yield': 0.0, 'week_52_high': 242.52, 'week_52_low': 161.38, 'quarterly_dividend': 0.0}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:428 - ‚úÖ [FUNDAMENTAL_DATA] Updated fundamental_data: {'market_cap': 2348520367046.1025, 'pe_ratio': 33.3298, 'dividend_yield': 0.0, 'week_52_high': 242.52, 'week_52_low': 161.38, 'quarterly_dividend': 0.0}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:456 - üì¶ [FUNDAMENTAL_DATA] Final fundamental_data for AMZN: {'market_cap': 2348520367046.1025, 'pe_ratio': 33.3298, 'dividend_yield': 0.0, 'week_52_high': 242.52, 'week_52_low': 161.38, 'quarterly_dividend': 0.0}
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 5 news items for AAPL, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 5 news events for AAPL (target: 5)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for AAPL (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 3 news items for PG, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 3 news events for PG (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 3 news events for PG, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for PG (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:271 - üì∞ [NEWS_PROCESSING] Processing 2 news items for JNJ, target: 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:295 - ‚úÖ [NEWS_PROCESSING] Processed 2 news events for JNJ (target: 5)
2026-01-12 15:19:34 | WARNING  | stockbench.core.features:build_features_for_prompt:303 - ‚ö†Ô∏è [NEWS_DATA_INSUFFICIENT] Only got 2 news events for JNJ, expected 5
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:350 - üìÖ [FUNDAMENTAL_DATA] Trading date determination:
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:354 -   - Found ts_utc in snapshot: 2025-03-07T00:00:00Z
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:358 -   - Parsed trading_date from snapshot: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:389 -   - day_df is empty or missing date column
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:399 -   - Final trading_date: 2025-03-07
2026-01-12 15:19:34 | INFO     | stockbench.core.features:build_features_for_prompt:458 - ‚è≠Ô∏è [FUNDAMENTAL_DATA] Skipping fundamental data computation for JNJ (exclude_fundamental=True)
2026-01-12 15:19:34 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:408 - [FEATURE_BUILD] Enhanced features built
2026-01-12 15:19:34 | INFO     | stockbench.agents.dual_agent_llm:decide_batch_dual_agent:417 - [AGENT_DECISION] Step 3: Calling decision agent with enhanced features
2026-01-12 15:19:34 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:583 - [DEBUG] Dual agent decision: Using historical records, containing history of 20 symbols
2026-01-12 15:19:34 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:723 - [DUAL_AGENT_UNIFIED_RETRY] Starting unified retry loop: current_retry=0, max_total_retries=3
2026-01-12 15:19:34 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:20:27 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 52892ms, Token usage: {'prompt_tokens': 8228, 'completion_tokens': 2291, 'total_tokens': 10519}
2026-01-12 15:20:27 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Insufficient available_cash: Expected remaining cash -45009.32 < 0
2026-01-12 15:20:27 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 1: Expected remaining cash ratio -0.458 below minimum requirement 0.000
2026-01-12 15:20:27 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 2/3 (engine: 0, llm: 1)
2026-01-12 15:20:27 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Including retry notes from previous validation failures
2026-01-12 15:20:27 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 1, Total: 1
2026-01-12 15:20:27 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:21:15 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 48211ms, Token usage: {'prompt_tokens': 8304, 'completion_tokens': 1902, 'total_tokens': 10206}
2026-01-12 15:21:15 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Insufficient available_cash: Expected remaining cash -25009.32 < 0
2026-01-12 15:21:15 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 2: Expected remaining cash ratio -0.254 below minimum requirement 0.000
2026-01-12 15:21:15 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1068 - üîÑ [DUAL_AGENT_UNIFIED_RETRY] Preparing retry 3/3 (engine: 0, llm: 2)
2026-01-12 15:21:15 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:743 - [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Including retry notes from previous validation failures
2026-01-12 15:21:15 | INFO     | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:750 - [RETRY_BREAKDOWN] Engine retries: 0, LLM retries: 2, Total: 2
2026-01-12 15:21:15 | INFO     | stockbench.llm.llm_client:generate_json:846 - ü§ñ decision_agent - Model: gpt-4o-mini
2026-01-12 15:21:55 | INFO     | stockbench.llm.llm_client:generate_json:921 - ‚úÖ decision_agent success - Latency: 39447ms, Token usage: {'prompt_tokens': 8304, 'completion_tokens': 1528, 'total_tokens': 9832}
2026-01-12 15:21:55 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1061 - üö® [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Insufficient available_cash: Expected remaining cash -3009.32 < 0
2026-01-12 15:21:55 | WARNING  | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1063 - ‚ö†Ô∏è [DUAL_AGENT_UNIFIED_RETRY] Attempt 3: Expected remaining cash ratio -0.031 below minimum requirement 0.000
2026-01-12 15:21:55 | ERROR    | stockbench.agents.dual_agent_llm:_decide_batch_portfolio_dual_agent:1099 - [DUAL_AGENT_UNIFIED_RETRY] All 3 attempts failed due to validation errors (engine: 0, llm: 2)
2026-01-12 15:21:55 | INFO     | stockbench.core.pipeline_context:finish_agent:140 - [AGENT_DONE] decision_agent completed
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:582 - [AGENT_EXECUTOR] Unified executor completed
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:590 - [AGENT_EXEC] Execution summary
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:609 - === Unified Executor Decision Call Ended ===

2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:690 - 
=== Store Pending Decisions Started ===
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:691 - [PENDING_SAVE] Preparing to store pending decisions
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:722 - [PENDING_SAVE] Pending decisions stored, waiting for recording after trade execution
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:on_bar:723 - === Store Pending Decisions Completed ===

2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1158 - [PRECALC] Total cash required for all orders: 0.00, available: 4990.68
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1224 - [RETRY_MECHANISM] No rejected orders; proceeding with execution
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1340 - 
=== Daily NAV Calculation [2025-03-07] ===
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1341 - [DAILY_NAV] Current cash: 4990.68
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1342 - [DAILY_NAV] Position details:
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   GS: 85.90 √ó 568.1700 = 48805.80
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   MSFT: 12.68 √ó 392.3200 = 4974.62
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   HD: 13.04 √ó 379.5000 = 4948.68
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   V: 14.45 √ó 340.8700 = 4925.57
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   SHW: 13.96 √ó 361.9800 = 5053.24
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   MCD: 16.24 √ó 310.8200 = 5047.72
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   AXP: 17.87 √ó 273.6600 = 4890.30
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   CRM: 17.35 √ó 283.1800 = 4913.17
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   JPM: 20.15 √ó 245.2300 = 4941.38
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1354 - [DAILY_NAV]   AMZN: 24.46 √ó 199.4900 = 4879.53
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1362 - [DAILY_NAV] Total position market value: 93380.02
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1363 - [DAILY_NAV] Total equity: 4990.68 + 93380.02 = 98370.69
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1364 - [DAILY_NAV] Initial capital: 100000.00
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1365 - [DAILY_NAV] Daily NAV: 98370.69 / 100000.00 = 0.983707
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1366 - [DAILY_NAV] Current cash ratio: 0.0507
2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1367 - === Daily NAV Calculation Completed ===

2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1376 - [DELAYED_RECORD] No successful trades today, but still need to record hold decisions
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:741 - 
=== Decision Recording (New Memory System) ===
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:742 - [RECORD] Decisions have been saved to ctx.memory.episodes by Agents automatically
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:743 - [RECORD] Clearing pending decisions state
2026-01-12 15:21:55 | INFO     | stockbench.backtest.strategies.llm_decision:record_executed_decisions:752 - === Decision Recording Completed ===

2026-01-12 15:21:55 | INFO     | stockbench.backtest.engine:run:1389 - [NEXT_TRADING_DAY] Next trading day after 2025-03-07: 2025-03-10
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:_get_next_day_open_prices:638 - [NEXT_DAY_PRICE] Final result: successfully fetched opening prices for 20/20 symbols
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1000 - [DEBUG] 2025-03-10 build previous_open_map: 0 symbols
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 GS: got open 542.3, close 531.66
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 GS: using open as mark price 542.3
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 MSFT: got open 385.84, close 380.16
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 MSFT: using open as mark price 385.84
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 HD: got open 377.44, close 374.65
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 HD: using open as mark price 377.44
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 V: got open 339.94, close 341.48
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 V: using open as mark price 339.94
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 SHW: got open 355.9, close 357.78
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 SHW: using open as mark price 355.9
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 CAT: got open 345.0, close 345.21
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 CAT: using open as mark price 345.0
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 MCD: got open 320.09, close 317.25
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 MCD: using open as mark price 320.09
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 UNH: got open 492.28, close 480.22
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 UNH: using open as mark price 492.28
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 AXP: got open 267.715, close 261.32
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 AXP: using open as mark price 267.715
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 AMGN: got open 324.13, close 327.36
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 AMGN: using open as mark price 324.13
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 TRV: got open 255.57, close 256.61
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 TRV: using open as mark price 255.57
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 CRM: got open 276.97, close 272.9
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 CRM: using open as mark price 276.97
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 JPM: got open 236.21, close 232.22
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 JPM: using open as mark price 236.21
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 IBM: got open 261.56, close 256.9
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 IBM: using open as mark price 261.56
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 HON: got open 214.29, close 213.82
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 HON: using open as mark price 214.29
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 BA: got open 150.03, close 148.15
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 BA: using open as mark price 150.03
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 AMZN: got open 195.6, close 194.54
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 AMZN: using open as mark price 195.6
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 AAPL: got open 235.54, close 227.48
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 AAPL: using open as mark price 235.54
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 PG: got open 176.755, close 176.26
2026-01-12 15:21:56 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 PG: using open as mark price 176.755
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1017 - [DEBUG] 2025-03-10 JNJ: got open 167.48, close 167.7
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1045 - [DEBUG] 2025-03-10 JNJ: using open as mark price 167.48
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1070 - [DEBUG] 2025-03-10 open_map built: 20 symbols
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[GS] = 542.3
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[MSFT] = 385.84
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[HD] = 377.44
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[V] = 339.94
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[SHW] = 355.9
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[CAT] = 345.0
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[MCD] = 320.09
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[UNH] = 492.28
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[AXP] = 267.715
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[AMGN] = 324.13
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[TRV] = 255.57
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[CRM] = 276.97
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[JPM] = 236.21
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[IBM] = 261.56
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[HON] = 214.29
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[BA] = 150.03
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[AMZN] = 195.6
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[AAPL] = 235.54
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[PG] = 176.755
2026-01-12 15:21:57 | INFO     | stockbench.backtest.engine:run:1072 - [DEBUG] 2025-03-10 open_map[JNJ] = 167.48
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: GS, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: GS, 2/5, will try API
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: GS, 2 items (API unavailable)
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MSFT, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: MSFT, 5/5
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HD, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: HD, 5/5
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: V, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: V, 1/5, will try API
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:57 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: V, 1 items (API unavailable)
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: SHW, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: SHW, 1/5, will try API
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: SHW, 1 items (API unavailable)
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CAT, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: CAT, 2/5, will try API
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: CAT, 2 items (API unavailable)
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: MCD, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: MCD, 2/5, will try API
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: MCD, 2 items (API unavailable)
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: UNH, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: UNH, 3/5, will try API
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: UNH, 3 items (API unavailable)
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AXP, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AXP, 2/5, will try API
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:58 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AXP, 2 items (API unavailable)
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMGN, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: AMGN, 4/5, will try API
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: AMGN, 4 items (API unavailable)
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: TRV, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:920 - üìä [CACHE-FALLBACK] Returning extended cache data: TRV, 2 items (API unavailable)
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: CRM, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: CRM, 5/5

Aborted.
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: JPM, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: JPM, 3/5, will try API
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: JPM, 3 items (API unavailable)
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: IBM, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: IBM, 2/5, will try API
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: IBM, 2 items (API unavailable)
2026-01-12 15:22:06 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: HON, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:22:06 | INFO     | stockbench.core.data_hub:get_news:881 - ‚ö†Ô∏è [NEWS_DAY_CACHE] Found partial cache data: HON, 1/5, will try API
2026-01-12 15:22:06 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:22:06 | INFO     | stockbench.core.data_hub:get_news:908 - üìä [CACHE-FALLBACK] Returning day cache data: HON, 1 items (API unavailable)
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: BA, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:904 - üîÑ [API-UNAVAILABLE] API not available for news, returning best cached data
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:920 - üìä [CACHE-FALLBACK] Returning extended cache data: BA, 4 items (API unavailable)
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AMZN, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:21:59 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AMZN, 5/5
2026-01-12 15:22:00 | INFO     | stockbench.core.data_hub:get_news:818 - üìã Start getting news - Stock: AAPL, GTE: 2025-03-08, LTE: 2025-03-10, limit: 100, page_token: None
2026-01-12 15:22:00 | INFO     | stockbench.core.data_hub:get_news:878 - ‚úÖ [NEWS_DAY_CACHE] Hit day cache with sufficient data: AAPL, 5/5
